<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>South Width</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:#0e0e0e;color:#fff}

/* NAV */
header{
  position:fixed;top:0;width:100%;
  background:rgba(0,0,0,.7);
  backdrop-filter:blur(10px);
  padding:20px 60px;z-index:100
}
.nav{display:flex;justify-content:space-between;align-items:center}
.logo{font-weight:900;letter-spacing:2px}
.menu a{color:#fff;text-decoration:none;margin-left:20px;font-size:14px}
.menu a:hover{opacity:.7}
#userName{margin-left:20px;font-size:14px;color:#aaa}

/* HERO */
main{
  height:100vh;
  display:flex;
  align-items:center;
  padding:0 60px
}
.hero h1{font-size:64px}
.hero h2{font-size:64px;color:#555}
.hero p{color:#aaa;margin:20px 0}
.btn{
  display:inline-block;
  padding:12px 28px;
  border:1px solid #fff;
  color:#fff;text-decoration:none
}
.btn:hover{background:#fff;color:#000}

/* ROPA */
#ropa{
  padding:120px 60px
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:30px
}
.card{
  border:1px solid #333;
  padding:20px;
  text-align:center
}
.card img{
  width:100%;height:220px;object-fit:cover;margin-bottom:15px
}
.card button{
  margin-top:10px;
  padding:8px 20px;
  background:#fff;border:none;cursor:pointer
}

/* CARRITO */
#cartBtn{
  position:fixed;
  bottom:20px;right:20px;
  background:#fff;color:#000;
  padding:12px 20px;
  cursor:pointer
}
#cart{
  position:fixed;
  right:-350px;top:0;
  width:300px;height:100vh;
  background:#111;
  padding:20px;
  transition:.3s
}
#cart.active{right:0}
#cart h3{margin-bottom:10px}
#cart ul{list-style:none}
#cart li{margin-bottom:8px;font-size:14px}
</style>
</head>

<body>

<header>
  <div class="nav">
    <div class="logo">SOUTH WIDTH</div>
    <nav class="menu">
      <a href="#inicio">Inicio</a>
      <a href="#ropa">Ropa</a>
      <a href="#contacto">Contacto</a>

      <span id="userName"></span>
      <a href="login.html" id="loginLink">Login</a>
      <a href="#" id="logoutLink" style="display:none;">Salir</a>
    </nav>
  </div>
</header>

<main id="inicio">
  <div class="hero">
    <h1>STREETWEAR</h1>
    <h2>DESDE EL SUR</h2>
    <p>Marca urbana inspirada en el sur de Chile.</p>
    <a href="#ropa" class="btn">VER ROPA</a>
  </div>
</main>

<section id="ropa">
  <h2 style="margin-bottom:30px">Productos</h2>
  <div class="grid">

    <div class="card">
      <img src="https://picsum.photos/300/300?1">
      <h4>Polera Negra</h4>
      <p>$19.990</p>
      <button onclick="addToCart('Polera Negra',19990)">Agregar</button>
    </div>

    <div class="card">
      <img src="https://picsum.photos/300/300?2">
      <h4>PolerÃ³n Oversize</h4>
      <p>$39.990</p>
      <button onclick="addToCart('PolerÃ³n Oversize',39990)">Agregar</button>
    </div>

  </div>
</section>

<!-- CARRITO -->
<div id="cart">
  <h3>Carrito</h3>
  <ul id="cartItems"></ul>
</div>

<div id="cartBtn" onclick="toggleCart()">ðŸ›’ Carrito</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth,onAuthStateChanged,signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAVyVlXFJuVF3snNO3fvQy1ud1WGo15ri4",
  authDomain: "south-width.firebaseapp.com",
  projectId: "south-width",
  storageBucket: "south-width.firebasestorage.app",
  messagingSenderId: "144617776304",
  appId: "1:144617776304:web:6ed82ac4dcb2354a620775"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const loginLink = document.getElementById("loginLink");
const logoutLink = document.getElementById("logoutLink");
const userName = document.getElementById("userName");

onAuthStateChanged(auth,(user)=>{
  if(user){
    loginLink.style.display="none";
    logoutLink.style.display="inline-block";
    userName.textContent="Hola, "+(user.displayName || "Usuario");
  }else{
    loginLink.style.display="inline-block";
    logoutLink.style.display="none";
    userName.textContent="";
  }
});

logoutLink.onclick=(e)=>{
  e.preventDefault();
  signOut(auth).then(()=>location.reload());
};
</script>

<!-- CARRITO JS -->
<script>
let cart=[];
function addToCart(name,price){
  cart.push({name,price});
  renderCart();
}
function renderCart(){
  const ul=document.getElementById("cartItems");
  ul.innerHTML="";
  cart.forEach(p=>{
    const li=document.createElement("li");
    li.textContent=`${p.name} - $${p.price}`;
    ul.appendChild(li);
  });
}
function toggleCart(){
  document.getElementById("cart").classList.toggle("active");
}
</script>

</body>
</html>
